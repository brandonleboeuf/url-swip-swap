import{r as s,j as i,U as D,L as S,C as j,a as t,b as A,e as R,I as U,f as L,g as x,F,h as V,T as $,i as W,D as z,k as H,A as M,c as G,R as O,G as q}from"./global.9d95f920.js";const P=()=>t("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:t("path",{d:"M16 1H4C2.9 1 2 1.9 2 3v14h2V3h12V1zm3 4H8C6.9 5 6 5.9 6 7v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"})}),T=()=>t("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:t("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"})}),N=({id:n,index:u,topUrl:l,bottomUrl:d,checked:a,onRemove:y,onInputChange:f,isRemoveDisabled:v=!1})=>{const[e,r]=s.useState(!1),[c,h]=s.useState(!1),[C,w]=s.useState(!1),p=s.useRef(),b=async(g,k)=>{if(g.trim())try{await navigator.clipboard.writeText(g),k(!0),setTimeout(()=>k(!1),1500)}catch(B){console.error("Failed to copy:",B)}},m=()=>{!v&&!e&&(r(!0),p.current=window.setTimeout(()=>{y()},100))},o=!(l!=null&&l.trim())||!(d!=null&&d.trim()),E=g=>{if(o){g.preventDefault();return}f(g)};return s.useEffect(()=>{o&&a&&f({target:{type:"checkbox",name:"checked",checked:!1,id:`enabled-${n}`}})},[o,a,f,n]),s.useEffect(()=>()=>{p.current&&window.clearTimeout(p.current)},[]),i(D,{isRemoving:e,children:[i(S,{children:[i("h4",{children:["PAIR ",u+1]}),i(j,{children:[t("input",{type:"checkbox",id:`enabled-${n}`,name:"checked",checked:a&&!o,onChange:E,disabled:o}),t("label",{htmlFor:`enabled-${n}`,title:o?"Fill in both URLs to enable":""})]})]}),!v&&t(A,{onClick:m,disabled:e,title:"Remove this URL pair",children:"Remove"}),t(R,{children:"Primary URL:"}),i(U,{children:[t(L,{type:"text",id:`topUrl-${n}`,name:"topUrl",value:l,onChange:f,placeholder:"e.g., production.myapp.com"}),t(x,{onClick:()=>b(l,h),disabled:!l.trim(),title:l.trim()?"Copy URL":"Enter a URL first",children:c?t(T,{}):t(P,{})})]}),t(R,{children:"Alternative URL:"}),i(U,{children:[t(L,{type:"text",id:`bottomUrl-${n}`,name:"bottomUrl",value:d,onChange:f,placeholder:"e.g., localhost:3000"}),t(x,{onClick:()=>b(d,w),disabled:!d.trim(),title:d.trim()?"Copy URL":"Enter a URL first",children:C?t(T,{}):t(P,{})})]})]})},Q=({version:n})=>i(F,{version:n,children:[i("div",{children:["Version: ",n]}),i("div",{children:["Created by ",t("a",{href:"https://github.com/brandonleboeuf",target:"_blank",rel:"noopener noreferrer",children:"Brandon"})]}),t("div",{children:"Est. 2024"})]}),_=()=>{const[n,u]=s.useState([]),[l,d]=s.useState("");s.useEffect(()=>{fetch(chrome.runtime.getURL("manifest.json")).then(e=>e.json()).then(e=>{d(e.version)}).catch(e=>console.error("Error fetching manifest.json:",e)),chrome.storage.sync.get(["optionSets"],({optionSets:e})=>{if((e==null?void 0:e.length)>0){const r=e.map(c=>({...c,id:c.id||crypto.randomUUID()}));u(r)}else u([{id:crypto.randomUUID(),topUrl:"",bottomUrl:"",checked:!1}])})},[]);const a=s.useCallback(e=>{chrome.storage.sync.set({optionSets:e})},[]),y=s.useCallback(()=>{u(e=>{const r=[...e,{id:crypto.randomUUID(),topUrl:"",bottomUrl:"",checked:!1}];return a(r),r})},[a]),f=s.useCallback(e=>{u(r=>{if(r.length<=1)return r;const c=r.filter(h=>h.id!==e);return a(c),c})},[a]),v=s.useCallback((e,r)=>{const{name:c,value:h,type:C,checked:w}=r.target;u(p=>{const b=p.map(m=>{if(m.id!==e)return m;const o={...m};if(C==="checkbox"){if(w&&(!m.topUrl.trim()||!m.bottomUrl.trim()))return m;o.checked=w}else c==="topUrl"?(o.topUrl=h,h.trim()||(o.checked=!1)):c==="bottomUrl"&&(o.bottomUrl=h,h.trim()||(o.checked=!1));return o});return a(b),b})},[a]);return i(V,{children:[t($,{children:"url-swip-swap"}),t(W,{children:"Quick URL switching between environments"}),t(z,{children:"Configure URL pairs to quickly switch between different versions of your websites. Toggle the switch to enable/disable each pair."}),t(H,{id:"url-pairs",children:n.map((e,r)=>t(N,{id:e.id,index:r,topUrl:e.topUrl,bottomUrl:e.bottomUrl,checked:e.checked,onRemove:()=>f(e.id),onInputChange:c=>v(e.id,c),isRemoveDisabled:n.length<=1},e.id))}),t(M,{id:"add-pair",onClick:y,children:"Add New URL Pair"}),t(Q,{version:l})]})},I=document.getElementById("root");I&&G(I).render(i(O.StrictMode,{children:[t(q,{}),t(_,{})]}));
